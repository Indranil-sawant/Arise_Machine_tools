<!-- ============================================
     PREMIUM CNC NAVBAR - FULLY RESPONSIVE
     ============================================ -->

<nav class="cnc-navbar-premium" id="cncNavbar">
    <div class="cnc-navbar-container">
        <!-- Brand/Logo -->
        <a href="index.html" class="cnc-navbar-brand">
            <i class="fas fa-cogs cnc-navbar-logo-icon"></i>
            <div>
                <h1 class="cnc-navbar-brand-text">Arise CNC Tools</h1>
                <p class="cnc-navbar-brand-tagline">Precision Engineering</p>
            </div>
        </a>

        <!-- Mobile Toggle Button -->
        <button class="cnc-navbar-toggle" id="cncNavToggle" aria-label="Toggle navigation">
            <span class="cnc-navbar-toggle-bar"></span>
            <span class="cnc-navbar-toggle-bar"></span>
            <span class="cnc-navbar-toggle-bar"></span>
        </button>

        <!-- Navigation Menu -->
        <ul class="cnc-navbar-menu" id="cncNavMenu">
            <li class="cnc-navbar-menu-item">
                <a href="index.html" class="cnc-navbar-link cnc-navbar-link-active">Home</a>
            </li>

            <li class="cnc-navbar-menu-item">
                <a href="about.html" class="cnc-navbar-link">About</a>
            </li>

            <li class="cnc-navbar-menu-item">
                <a href="products.html" class="cnc-navbar-link">Products</a>
            </li>

            <!-- Dropdown Menu -->
            <li class="cnc-navbar-menu-item cnc-navbar-dropdown" id="cncNavDropdown">
                <a href="#" class="cnc-navbar-link cnc-navbar-dropdown-toggle">
                    More
                    <i class="fas fa-chevron-down cnc-navbar-dropdown-icon"></i>
                </a>
                <div class="cnc-navbar-dropdown-menu">
                    <a href="infrastructure.html" class="cnc-navbar-dropdown-item">Infrastructure</a>
                    <a href="industries.html" class="cnc-navbar-dropdown-item">Industries We Serve</a>
                    <a href="gallery.html" class="cnc-navbar-dropdown-item">Gallery</a>
                    <a href="testimonial.html" class="cnc-navbar-dropdown-item">Client Testimonials</a>
                </div>
            </li>

            <li class="cnc-navbar-menu-item">
                <a href="contact.html" class="cnc-navbar-link">Contact</a>
            </li>

            <!-- CTA Button -->
            <li class="cnc-navbar-menu-item">
                <a href="enquiry.html" class="cnc-navbar-cta">
                    <span>Enquiry</span>
                    <i class="fas fa-arrow-right" style="font-size: 12px;"></i>
                </a>
            </li>
        </ul>
    </div>
</nav>

<!-- ============================================
     NAVBAR JAVASCRIPT - SCOPED & ISOLATED
     ============================================ -->

<script>
    (function () {
        'use strict';

        // Navbar scroll effect
        const navbar = document.getElementById('cncNavbar');
        let lastScroll = 0;

        window.addEventListener('scroll', function () {
            const currentScroll = window.pageYOffset;

            if (currentScroll > 50) {
                navbar.classList.add('cnc-navbar-scrolled');
            } else {
                navbar.classList.remove('cnc-navbar-scrolled');
            }

            lastScroll = currentScroll;
        });

        // Mobile menu toggle
        const navToggle = document.getElementById('cncNavToggle');
        const navMenu = document.getElementById('cncNavMenu');

        if (navToggle && navMenu) {
            navToggle.addEventListener('click', function () {
                navToggle.classList.toggle('cnc-navbar-toggle-active');
                navMenu.classList.toggle('cnc-navbar-menu-open');

                // Prevent body scroll when menu is open
                if (navMenu.classList.contains('cnc-navbar-menu-open')) {
                    document.body.style.overflow = 'hidden';
                } else {
                    document.body.style.overflow = '';
                }
            });
        }

        // Mobile dropdown toggle
        const dropdown = document.getElementById('cncNavDropdown');
        if (dropdown && window.innerWidth <= 768) {
            const dropdownToggle = dropdown.querySelector('.cnc-navbar-dropdown-toggle');

            dropdownToggle.addEventListener('click', function (e) {
                e.preventDefault();
                dropdown.classList.toggle('cnc-navbar-dropdown-open');
            });
        }

        // Close mobile menu when clicking outside
        document.addEventListener('click', function (event) {
            const isClickInsideNav = navbar.contains(event.target);

            if (!isClickInsideNav && navMenu.classList.contains('cnc-navbar-menu-open')) {
                navToggle.classList.remove('cnc-navbar-toggle-active');
                navMenu.classList.remove('cnc-navbar-menu-open');
                document.body.style.overflow = '';
            }
        });

        // Close mobile menu on window resize
        window.addEventListener('resize', function () {
            if (window.innerWidth > 768) {
                navToggle.classList.remove('cnc-navbar-toggle-active');
                navMenu.classList.remove('cnc-navbar-menu-open');
                document.body.style.overflow = '';
            }
        });

        // Active link highlighting based on current page
        const currentPage = window.location.pathname.split('/').pop() || 'index.html';
        const navLinks = document.querySelectorAll('.cnc-navbar-link');

        navLinks.forEach(link => {
            const linkPage = link.getAttribute('href');
            if (linkPage === currentPage) {
                link.classList.add('cnc-navbar-link-active');
            } else {
                link.classList.remove('cnc-navbar-link-active');
            }
        });
    })();
</script>